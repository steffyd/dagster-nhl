{
    "name": "Dagster Development",
    "build": {
        "dockerfile": "../Dockerfile_base"
    },
    "extensions": [
        "ms-python.python",
        "ms-python.vscode-pylance"
    ],
    "features": {
        "ghcr.io/devcontainers/features/docker-in-docker:1": {
            "version": "latest"
        },
        "ghcr.io/devcontainers/features/git:1": {
            "version": "latest"
        }
    },
    "forwardPorts": [22],
    "mounts": [
        {
            "source": "${localEnv:HOME}/.ssh", 
            "target": "/home/vscode/.ssh",
            "type": "bind",
            "consistency": "cached",
            "condition": "localEnv:SSH_AUTH_SOCK"
        },
        {
            "source": "${localEnv:USERPROFILE}\\.ssh", 
            "target": "/home/vscode/.ssh",
            "type": "bind",
            "consistency": "cached",
            "condition": "!localEnv:SSH_AUTH_SOCK" 
        }
    ]
}
